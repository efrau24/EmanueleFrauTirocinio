version: "3.1"

intents:
  - greet
  - goodbye
  - good_mood
  - sad_mood
  - motivation
  - deny
  - reject
  - affirm
  - user_name
  - user_age
  - nlu_fallback
  - health_goal
  - help_request
  - inform_occupation
  - inform_interests
  - thank_you
  - mi_message
  - ask_about_chatbot
  - user_problem
  - user_main_issue
  
entities:
  - name
  - age

slots:
  # --- Conversation Management Slots ---
  conversation_started:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
      - type: custom

  form_completed:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
      - type: custom


  # --- Static User Info Slots ---

  # User basic info
  name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
        - active_loop: user_info_form
          requested_slot: name

  age:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: age
        conditions:
        - active_loop: user_info_form
          requested_slot: age


  occupation:
    type: list
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform_occupation
        conditions:
          - active_loop: user_info_form
            requested_slot: occupation

  interests:
    type: list
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform_interests
        conditions:
          - active_loop: user_info_form
            requested_slot: interests

  sub_interests:
    type: list
    influence_conversation: false
    mappings:
      - type: custom
  
  # health_condition:
  #   type: list
  #   influence_conversation: false
  #   mappings:
  #     - type: custom
  #       conditions:
  #         - active_loop: user_info_form
  #           requested_slot: health_condition


  # Issues slots

  current_issue:
    type: text
    mappings:
      - type: custom

  remaining_issues:
    type: list
    mappings:
      - type: custom

# # Mood form
#   symptom_description:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: mood_form
#             requested_slot: symptom_description

#   duration:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: mood_form
#             requested_slot: duration

#   triggers:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: mood_form
#             requested_slot: triggers

#   impact:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: mood_form
#             requested_slot: impact



#   # Sleep form
#   sleep_pattern:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: sleep_form
#             requested_slot: sleep_pattern

#   sleep_quality:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: sleep_form
#             requested_slot: sleep_quality

#   sleep_duration:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: sleep_form
#             requested_slot: sleep_duration

#   bedtime_routine:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: sleep_form
#             requested_slot: bedtime_routine

#   sleep_impact:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: sleep_form
#             requested_slot: sleep_impact


#   # Intrusive Thoughts form
#   intrusive_thoughts_description:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: intrusive_thoughts_form
#             requested_slot: intrusive_thoughts_description

#   frequency:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: intrusive_thoughts_form
#             requested_slot: frequency

#   intensity:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: intrusive_thoughts_form
#             requested_slot: intensity

#   avoidance:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: intrusive_thoughts_form
#             requested_slot: avoidance

#   intrusive_thoughts_impact:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: intrusive_thoughts_form
#             requested_slot: intrusive_thoughts_impact


#   # Addiction form
#   substance_or_behavior:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: addiction_form
#             requested_slot: substance_or_behavior

#   addiction_frequency:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: addiction_form
#             requested_slot: addiction_frequency

#   addiction_triggers:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: addiction_form
#             requested_slot: addiction_triggers

#   attempts_to_quit:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: addiction_form
#             requested_slot: attempts_to_quit

#   addiction_impact:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: addiction_form
#             requested_slot: addiction_impact


#   # Nutrition form
#   eating_habits:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: nutrition_form
#             requested_slot: eating_habits

#   body_image:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: nutrition_form
#             requested_slot: body_image

#   nutrition_physical_activity:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: nutrition_form
#             requested_slot: nutrition_physical_activity

#   nutrition_duration:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: nutrition_form
#             requested_slot: nutrition_duration

#   nutrition_impact:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: nutrition_form
#             requested_slot: nutrition_impact


#   # Motivation form
#   motivation_level:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: motivation_form
#             requested_slot: motivation_level

#   barriers:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: motivation_form
#             requested_slot: barriers

#   goals:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: motivation_form
#             requested_slot: goals

#   support_system:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: motivation_form
#             requested_slot: support_system

#   strategies_to_increase_motivation:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: motivation_form
#             requested_slot: strategies_to_increase_motivation


#   # Self Esteem form
#   self_perception:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: self_esteem_form
#             requested_slot: self_perception

#   negative_self_talk:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: self_esteem_form
#             requested_slot: negative_self_talk

#   social_interactions:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: self_esteem_form
#             requested_slot: social_interactions

#   achievements:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: self_esteem_form
#             requested_slot: achievements

#   self_esteem_coping_strategies:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: self_esteem_form
#             requested_slot: self_esteem_coping_strategies


#   # Lifestyle form
#   daily_routine:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: lifestyle_form
#             requested_slot: daily_routine

#   lifestyle_physical_activity:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: lifestyle_form
#             requested_slot: lifestyle_physical_activity

#   sleep_habits:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: lifestyle_form
#             requested_slot: sleep_habits

#   lifestyle_nutrition:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: lifestyle_form
#             requested_slot: lifestyle_nutrition

#   stress_management:
#     type: text
#     influence_conversation: false
#     mappings:
#       - type: from_text
#         conditions:
#           - active_loop: lifestyle_form
#             requested_slot: stress_management


  # --- Dynamic Conversation Slots ---

  issues_profile:
    type: any
    initial_value: {}
    influence_conversation: false
    mappings:
      - type: custom


  user_message:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text

  end_interview:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
      - type: custom

  message_count:
    type: float
    initial_value: 0
    influence_conversation: false
    mappings:
      - type: custom

  messages_log:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom


  mood:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom
  
  personality_traits:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom
  
  lifestyle:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  social_and_relationships:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  motivation:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  thought_patterns:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom

  possible_disorders:
    type: list
    initial_value: []
    influence_conversation: false
    mappings:
      - type: custom



  
forms:

  interview_form:
    required_slots:
      - user_message

  user_info_form:
    required_slots:
      - name
      - age
      - occupation
      - interests
      # - health_condition

  # mood_form:
  #   required_slots:
  #     - symptom_description           # utter_ask_symptom_description
  #     - duration                      # utter_ask_duration
  #     - triggers                      # utter_ask_triggers
  #     - impact                        # utter_ask_impact
  #     # - coping_strategies             # utter_ask_coping_strategies

  # sleep_form:
  #   required_slots:
  #     - sleep_pattern                 # utter_ask_sleep_pattern
  #     - sleep_quality                 # utter_ask_sleep_quality
  #     - sleep_duration                # utter_ask_duration
  #     - bedtime_routine               # utter_ask_bedtime_routine
  #     - sleep_impact                  # utter_ask_impact

  # intrusive_thoughts_form:
  #   required_slots:
  #     - intrusive_thoughts_description  # utter_ask_symptom_description
  #     - frequency                        # utter_ask_frequency
  #     - intensity                        # utter_ask_intensity
  #     - avoidance                        # utter_ask_avoidance
  #     - intrusive_thoughts_impact        # utter_ask_impact

  # addiction_form:
  #   required_slots:
  #     - substance_or_behavior           # utter_ask_substance_or_behavior
  #     - addiction_frequency             # utter_ask_frequency
  #     - addiction_triggers              # utter_ask_triggers
  #     - attempts_to_quit                # utter_ask_attempts_to_quit
  #     - addiction_impact                # utter_ask_impact

  # nutrition_form:
  #   required_slots:
  #     - eating_habits                   # utter_ask_eating_habits
  #     - body_image                      # utter_ask_body_image
  #     - nutrition_physical_activity     # utter_ask_physical_activity
  #     - nutrition_duration              # utter_ask_duration
  #     - nutrition_impact                # utter_ask_impact

  # motivation_form:
  #   required_slots:
  #     - motivation_level                # utter_ask_motivation_form_motivation_level
  #     - barriers                        # utter_ask_motivation_form_barriers
  #     - goals                           # utter_ask_motivation_form_goals
  #     - support_system                  # utter_ask_motivation_form_support_system
  #     - strategies_to_increase_motivation # utter_ask_motivation_form_strategies_to_increase_motivation

  # self_esteem_form:
  #   required_slots:
  #     - self_perception                 # utter_ask_self_esteem_form_self_perception
  #     - negative_self_talk              # utter_ask_self_esteem_form_negative_self_talk
  #     - social_interactions             # utter_ask_self_esteem_form_social_interactions
  #     - achievements                    # utter_ask_self_esteem_form_achievements
  #     - self_esteem_coping_strategies   # utter_ask_self_esteem_form_coping_strategies

  # lifestyle_form:
  #   required_slots:
  #     - daily_routine                   # utter_ask_lifestyle_form_daily_routine
  #     - lifestyle_physical_activity     # utter_ask_lifestyle_form_physical_activity
  #     - sleep_habits                    # utter_ask_lifestyle_form_sleep_habits
  #     - lifestyle_nutrition             # utter_ask_lifestyle_form_nutrition
  #     - stress_management               # utter_ask_lifestyle_form_stress

responses:

  utter_first_time_info:
    - text: |
        Hello and welcome! I'm a chatbot designed to support mental health and promote positive behavior change. 
        While I can offer emotional support and helpful guidance, I'm not a licensed therapist and do not replace professional mental health care. 
        If you're in crisis or need immediate help, please contact a mental health professional or emergency services. 
        Let's begin with some basic information about you.
    - text: |
        Hello! I'm a mental health and behavior change support chatbot. I'm here to listen, guide, and help you reflect on your thoughts and actions. 
        Keep in mind that I'm not a licensed therapist and I don't replace professional care. 
        If you're facing a crisis, please reach out to a qualified mental health professional or emergency services. 
        Let's get started by collecting some basic personal information.
    - text: |
        Hello! I'm a chatbot here to support your mental well-being and help you with positive behavior changes. 
        I can offer guidance and support, but I'm not a licensed therapist and should not replace professional mental health care. 
        If you're in crisis or need urgent help, please contact a mental health professional or emergency services. 
        To begin, I'd like to ask you a few questions about yourself.
  
  utter_not_first_time:
    - text: |
        Great! So, you're familiar with how I can assist you. 
        I'm here to support your mental health and behavior change journey.
        To begin, I need to gather some basic information about you.
    - text: |
        Awesome! Since you're not new here, you know I can help with mental health and behavior change. 
        Let's start by collecting some basic information about you.

  utter_info:
    - text: |
        I'm here to support you with mental health and behavior change. I can listen, provide guidance, and help you reflect on your thoughts and actions.
        However, I'm not a licensed therapist and don't replace professional care. If you're in crisis or need immediate help, 
        please contact a mental health professional or emergency services.

  utter_ask_name:
    - text: "Can I ask your name?"
    - text: "What should I call you?"
    - text: "I'd love to know your name so I can talk to you more personally."

  utter_ask_age:
    - text: "How old are you?"
    - text: "I'd like to know how old you are."
    - text: "Would you mind telling me your age?"
 
  utter_ask_occupation:
    - text: "What do you do for work or study?"
    - text: "Can you tell me a bit about what you do in your daily life?"
    - text: "I'd love to hear about what you do for a living or what keeps you busy."

  utter_ask_interests:
    - text: "What kinds of things do you enjoy doing in your free time?"
    - text: "Do you have any hobbies or interests you'd like to share?"
    - text: "What brings you joy or helps you relax when you're not working or studying?"

  utter_submit:
    - text: "Thanks, {name}! I've saved your information. How are you feeling right now?"
    - text: "Thank you, {name}. I've got your details. How are you doing today?"
    - text: "Thanks for sharing that with me, {name}. How are you feeling at the moment?"


  utter_personalized_greeting:
    - text: "Hi {name}! How are you feeling today?"
    - text: "Hi {name}! I hope you're doing well. How can I help you today?"
    - text: "Hi {name}! I'm here for you. How can I support you today?"

  utter_goodbye:
    - text: "Goodbye! Hope to talk to you again soon."
    - text: "Goodbye! If you need anything, don’t hesitate to reach out."
    - text: "Goodbye! If you ever need support, I’m here for you."

  utter_generic_response:
    - text: "I understand. Let me know how you're feeling today."

  utter_ok_no_questions:
    - text: "That's totally okay. I'm here whenever you feel ready to talk."
    - text: "No problem at all—take your time. I'll be here when you're ready."

 
  utter_you_are_welcome:
    - text: "You're welcome! I'm here to help you."

  # # Mood Form
  # utter_ask_symptom_description:
  #   - text: "I’d like to understand better what you’re going through. Can you share how you’ve been feeling lately?"

  # utter_ask_duration:
  #   - text: "When did you first start noticing these feelings or experiences?"

  # utter_ask_triggers:
  #   - text: "Do you feel there are situations or moments that tend to make this stronger for you?"

  # utter_ask_impact:
  #   - text: "In what ways is this affecting your daily life, your activities, or your relationships?"

  # # utter_ask_coping_strategies:
  # #   - text: "Have you found anything—big or small—that helps you cope when this comes up?"

  # # Sleep Form
  # utter_ask_sleep_pattern:
  #   - text: "Can you tell me a bit about your sleep lately? For example, when you usually go to bed and wake up."

  # utter_ask_sleep_quality:
  #   - text: "When you wake up, do you usually feel rested, or still tired?"

  # utter_ask_sleep_duration:
  #   - text: "How long has your sleep pattern been like this?"

  # utter_ask_bedtime_routine:
  #   - text: "Do you have any evening routine or habits before going to bed that might influence your sleep?"

  # utter_ask_sleep_impact:
  #   - text: "How is this affecting your energy, mood, or daily activities?"

  # # Intrusive Thoughts Form
  # utter_ask_intrusive_thoughts_description:
  #   - text: "Can you describe the thoughts that keep coming back? I want to understand your experience."

  # utter_ask_frequency:
  #   - text: "How often do these thoughts, feelings, or behaviors show up for you?"

  # utter_ask_intensity:
  #   - text: "When they happen, how strong or overwhelming do they usually feel?"

  # utter_ask_avoidance:
  #   - text: "Do you ever find yourself avoiding places, people, or situations because of this?"

  # utter_ask_intrusive_thoughts_impact:
  #   - text: "How is this affecting your daily life or relationships?"

  # # Addiction Form
  # utter_ask_substance_or_behavior:
  #   - text: "Can you share what substance or behavior feels hardest to keep under control right now?"

  # utter_ask_addiction_frequency:
  #   - text: "How often does this happen?"

  # utter_ask_addiction_triggers:
  #   - text: "Are there certain situations, feelings, or people that trigger this?"

  # utter_ask_attempts_to_quit:
  #   - text: "Have you ever tried to cut back or stop before? If so, what was that like for you?"

  # utter_ask_addiction_impact:
  #   - text: "How does this affect your daily life, health, or relationships?"

  # # Nutrition Form
  # utter_ask_eating_habits:
  #   - text: "How would you describe your eating habits these days?"

  # utter_ask_body_image:
  #   - text: "How do you usually feel when you think about your body or your weight?"

  # utter_ask_nutrition_physical_activity:
  #   - text: "Do you usually get the chance to move your body or do some physical activity? If so, what kind?"

  # utter_ask_nutrition_duration:
  #   - text: "How long have your habits been like this?"

  # utter_ask_nutrition_impact:
  #   - text: "How does this affect your wellbeing, mood, or daily life?"

  # # Motivation Form
  # utter_ask_motivation_level:
  #   - text: "How motivated are you feeling right now to work on your goals? It's okay to be honest, there are no wrong answers."

  # utter_ask_barriers:
  #   - text: "What do you feel is holding you back from making progress? Sharing this can help us find solutions together."

  # utter_ask_goals:
  #   - text: "What are the goals that matter most to you at the moment? Big or small, they all count."

  # utter_ask_support_system:
  #   - text: "Who or what helps you stay on track? Think about people, habits, or routines that support you."

  # utter_ask_strategies_to_increase_motivation:
  #   - text: "Have you tried any strategies in the past to boost your motivation? Which ones worked, even a little?"

  # # Self Esteem Form
  # utter_ask_self_perception:
  #   - text: "How do you see yourself these days? Be kind to yourself when reflecting."

  # utter_ask_negative_self_talk:
  #   - text: "Do you notice any negative thoughts about yourself? It's okay to share them here."

  # utter_ask_social_interactions:
  #   - text: "How do your social interactions usually make you feel? Supported, stressed, or something else?"

  # utter_ask_achievements:
  #   - text: "Can you tell me about something you accomplished recently, big or small? Every achievement matters."

  # utter_ask_self_esteem_coping_strategies:
  #   - text: "What do you usually do to feel better when your self-esteem is low? Sharing can help me understand you better."

  # # Lifestyle Form
  # utter_ask_daily_routine:
  #   - text: "Can you describe your typical day? This helps me understand your lifestyle patterns."

  # utter_ask_lifestyle_physical_activity:
  #   - text: "How often do you engage in physical activity? Any type of movement counts!"

  # utter_ask_sleep_habits:
  #   - text: "How is your sleep usually? Good, restless, or somewhere in between?"

  # utter_ask_lifestyle_nutrition:
  #   - text: "Can you describe your usual eating habits? This helps me see the bigger picture."

  # utter_ask_stress_management:
  #   - text: "What do you usually do to manage stress?Even small habits can make a difference."


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

actions: 
  - action_llm_fallback
  - action_conversation_started
  - action_personalized_greeting
  - action_submit_user_info_form
  - action_extract_name
  - action_classify_user_occupation
  - action_classify_user_interests
  # - action_classify_user_health_condition
  - validate_user_info_form
  - action_extract_issues
  - action_update_mood
  - action_ask_focus_issue
  - action_set_current_issue
  - action_activate_form
  - action_save_issue_profile
  - action_submit_issue_form
  - action_start_interview 
  - validate_interview_form
  - action_submit_interview_form